{
    "type": "Shader",
    "name": "The_Chariot",
    "precision": "\n\t\t#ifdef GL_ES\n\t\tprecision highp float;\n\t\t#endif \n\t",
    "vert": "attribute vec3 aPosition;\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\nvoid main() {\n    vTexCoord = aTexCoord;\n    vec4 positionVec4 = vec4(aPosition, 1.0);\n    positionVec4.xy = positionVec4.xy * vec2(1., -1.);\n    gl_Position = positionVec4;\n}",
    "frag": "varying vec2 vTexCoord;\nuniform sampler2D tex0;\nuniform vec2 resolution;\n\nvec2 rotate(vec2 st, float a) {\n    st = mat2(cos(a),-sin(a),sin(a),cos(a))*(st-0.5);\n    return st+0.5;\n}\n\nfloat flip(float v, float pct) {\n    return mix(v, 1.0 - v, pct);\n}\n\nfloat stroke(float x, float s, float w) {\n    float d = step(s,x+w*0.5) - step(s,x-w*0.5);\n    return clamp(d, 0.0, 1.0);\n}\n\nfloat fill(float x, float size) {\n    return 1.0-step(size, x);\n}\n\nfloat rectSDF(vec2 st, vec2 s) {\n    st = st*2.0-1.0;\n    return max(abs(st.x/s.x),abs(st.y/s.y));\n}\n\nvec3 bridge(vec3 c,float d,float s,float w) {\n    c *= 1.0-stroke(d,s,w*2.0);\n    return c + stroke(d,s,w);\n}\n\nvoid main() {\n    vec3 color = vec3(0.0);\n    //vec2 st = vTexCoord;\n    vec2 st = texture2D(tex0,vTexCoord).rg;\n\n    float r1 = rectSDF(st, vec2(1.0));\n    float r2 = rectSDF(rotate(st,radians(45.0)),vec2(1.0));\n    \n    float inv = step(0.5,(st.x+st.y)*0.5);\n    inv = flip(inv,step(0.5,0.5+(st.x-st.y)*0.5));\n    \n    float w = 0.075;\n    color += stroke(r1,0.5,w) + stroke(r2,0.5,w);\n    \n    float bridges = mix(r1,r2,inv);\n    color = bridge(color, bridges, 0.5, w);\n\n    gl_FragColor = vec4(color.rgb, 1.0);\n}"
}